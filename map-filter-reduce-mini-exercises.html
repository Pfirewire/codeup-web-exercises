<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Title</title>

    <link rel="icon" type="image/x-icon" href="img/megamanicon.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/default.css">
</head>
<body>


<!--       Scripts       -->
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<script>
    "use strict";
    // TODO: Given the following array, complete the todos...
    const dogs = [
        {
            dogName: 'Bubbles',
            age: 10,
            isTrained: false
        },
        {
            dogName: 'Lexie',
            age: 3,
            isTrained: true
        },
        {
            dogName: 'Doggy',
            age: 5,
            isTrained: false
        },
        {
            dogName: 'Flopper',
            age: 3,
            isTrained: true
        },
        {
            dogName: 'Lexie',
            age: 1,
            isTrained: true
        },
        {
            dogName: 'Skip',
            age: 7,
            isTrained: true
        },
        {
            dogName: 'Blue',
            age: 4,
            isTrained: false
        }
    ];
    // MAP
    // TODO 1: using map, create a new array of dog names from the dogs array
    console.log('Exercise 1:');
    const dogNames = dogs.map(dog => dog.dogName);
    console.log(dogNames);

    // TODO 2: using map, create a new array of dog ages from the dogs array
    console.log('Exercise 2:');
    const dogAges = dogs.map(dog => dog.age);
    console.log(dogAges);

    // TODO 3: using map, create a new array of dog objects from the dogs array that only have dog names and age properties and values
    console.log('Exercise 3:');
    const dogsLite = dogs.map(dog => {
        return {
            dogName: dog.dogName,
            age: dog.age
        };
    });
    console.log(dogsLite);

    // FILTER
    // TODO 4: using filter, create a new array containing only dogs younger than 10 years old
    console.log('Exercise 4:');
    const youngDogs = dogs.filter(dog => dog.age < 10 ? dog : false);
    console.log(youngDogs);

    // TODO 5: using filter, create a new array containing only dogs named 'Lexie'
    console.log('Exercise 5:');
    const lexieDogs = dogs.filter(dog => dog.dogName === "Lexie" ? dog : false);
    console.log(lexieDogs);

    // TODO 6: using filter, create a new array containing only dogs that are trained and younger than 10
    console.log('Exercise 6:');
    const youngTrainedDogs = dogs.filter(dog => dog.age < 10 && dog.isTrained ? dog : false);
    console.log(youngTrainedDogs);

    // REDUCE
    // TODO 7: using reduce, return a string containing all dog names together with no spaces ("BubblesLexieDoggy...")
    console.log('Exercise 7:');
    const scrunchedDogNames = dogs.reduce((dogNames, dog) => dogNames + dog.dogName, "");
    console.log(scrunchedDogNames);

    // TODO 8: using reduce, return the total of adding all dog ages together (18)
    console.log('Exercise 8:');
    const totalAge = dogs.reduce((dogAges, dog) => dogAges + dog.age, 0);
    console.log(totalAge);

    // TODO 9: using reduce, return an array of dog objects with all isTrained properties set to true
    console.log('Exercise 9:');
    let dogsCopy = JSON.parse(JSON.stringify(dogs));
    const trainAllDogs = dogsCopy.reduce((trainedDogs, dog) => {
        dog.isTrained = true;
        trainedDogs.push(dog);
        return trainedDogs;
    }, []);
    console.log(trainAllDogs);

    // EXTRA CHALLENGES
    // TODO 10: what is the average age of each dog?
    console.log('Exercise 10:');
    const averageAge = (dogs.reduce((totalAge, dog) => totalAge + dog.age, 0)/dogs.length).toFixed(2);
    console.log(averageAge);

    // TODO 11: what is the average age of dogs that are trained?
    console.log('Exercise 11:');
    const totalTrainedAge = dogs.reduce((totalAge, dog) => dog.isTrained ? totalAge + dog.age : totalAge, 0);
    const trainedDogs = dogs.filter(dog => dog.isTrained ? dog : false);
    const averageTrainedAge = (totalTrainedAge / trainedDogs.length).toFixed(2);
    console.log(averageTrainedAge);

    // TODO 12: what is the average length of names of untrained dogs?
    console.log('Exercise 12:');
    const untrainedNames = dogs.reduce((names, dog) => !dog.isTrained ? names + dog.dogName : names, "");
    const untrainedDogs = dogs.filter(dog => !dog.isTrained? dog : false);
    const averageUntrainedNameLength = (untrainedNames.length / untrainedDogs.length).toFixed(2);
    console.log(averageUntrainedNameLength);

    // TODO 13: what are the combined ages of all dogs in dog years? (7x more than a human year)
    console.log('Exercise 13:');
    const totalDogAge = dogs.reduce((totalDogAge, dog) => totalDogAge + (dog.age * 7), 0);
    console.log(totalDogAge);

    // TODO 14: create a string of the first letters of each dog name for dogs three years old (should be "LF")
    console.log('Exercise 14:');
    const firstLettersThreeYearOldDogs = dogs.reduce((letters, dog) => dog.age === 3 ? letters + dog.dogName[0] : letters, "");
    console.log(firstLettersThreeYearOldDogs);

</script>
</body>
</html>